(this["webpackJsonpcandor-web"]=this["webpackJsonpcandor-web"]||[]).push([[0],{23:function(e){e.exports=JSON.parse('{"dialogueActions":{"get":"GET_DIALOGUE"},"postActions":{"getAll":"GET_POSTS"}}')},24:function(e){e.exports=JSON.parse('{"DownloadPrompt":{"joinConversation":"Join the conversation!","downloadPrompt":"Download Candor to comment, like, and start your own conversations"},"Errors":{"documentFetchError":"Error getting document: "}}')},57:function(e,t,a){},58:function(e,t,a){},79:function(e,t,a){},91:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a.n(n),r=a(21),s=a.n(r),o=a(48),i=a(12),l=(a(56),a(57),a(58),a(93)),d=a(94),u=a(95),p=a(96),j=a(43),h=a.n(j),g=(a(79),a(6)),b=function(e){var t="https://stream.mux.com/"+e.post.asset.playback_ids[0].id+".m3u8";return Object(g.jsx)("div",{className:"player-wrapper",children:Object(g.jsx)(h.a,{className:"react-player",url:t,width:"100%",height:"100%",controls:!0})})},m=function(e){return e.postsList?Object(g.jsx)("div",{style:{height:"100%"},children:Object(g.jsx)(p.a,{interval:null,className:"candor-carousel",children:e.postsList.map((function(e){return Object(g.jsx)(p.a.Item,{className:"candor-carousel",children:Object(g.jsx)(b,{post:e})})}))})}):Object(g.jsx)("div",{})},f=function(e){return e.dialogueMetaData?Object(g.jsxs)("div",{className:"d-flex align-items-start flex-column",style:{height:"100%"},children:[Object(g.jsxs)("div",{children:[Object(g.jsxs)("p",{className:"candor-bold",children:[e.dialogueMetaData.poster.displayName," / ",e.dialogueMetaData.partner.displayName]}),Object(g.jsx)("p",{className:"h2",children:e.dialogueMetaData.caption}),Object(g.jsxs)("p",{className:"font-weight-light",children:[e.dialogueMetaData.numberOfPosts," responses"]})]}),Object(g.jsx)("div",{className:"mt-auto",children:Object(g.jsx)("img",{alt:"Candor logo",src:"./images/CandorIcon.svg"})})]}):Object(g.jsx)("div",{})},O=a(24),x=O.DownloadPrompt,v=function(){return Object(g.jsxs)("div",{children:[Object(g.jsx)("p",{className:"h2",children:x.joinConversation}),Object(g.jsx)("p",{className:"font-weight-light",children:x.downloadPrompt}),Object(g.jsx)("a",{href:"https://play.google.com/store/apps/details?id=com.talkcandor&pcampaignid=pcampaignidMKT-Other-global-all-co-prtnr-py-PartBadge-Mar2515-1",children:Object(g.jsx)("img",{className:"candor-android-badge",alt:"Get it on Google Play",src:"https://play.google.com/intl/en_us/badges/static/images/badges/en_badge_web_generic.png"})}),Object(g.jsx)("a",{href:"https://apps.apple.com/ca/app/candor-talk/id1552310457",children:Object(g.jsx)("img",{className:"candor-apple-badge",alt:"Get it on the App Store",src:"./images/AppleBadge.svg"})})]})},w=a(26),N=a(23);var y=function(e){var t=e.match,a=Object(w.c)((function(e){return e.dialogueMetaData})),n=Object(w.c)((function(e){return e.posts})),c=Object(w.b)(),r=t.params.id;return r&&(c(function(e){return{type:N.dialogueActions.get,id:e}}(r)),c(function(e){return{type:N.postActions.getAll,id:e}}(r))),Object(g.jsx)("div",{className:"Dialogue",children:Object(g.jsx)(l.a,{fluid:!0,className:"candor-container",children:Object(g.jsxs)(d.a,{className:"candor-row",children:[Object(g.jsx)(u.a,{xs:12,md:4,className:"candor-col-height",children:Object(g.jsx)(f,{dialogueMetaData:a})}),Object(g.jsx)(u.a,{xs:12,md:4,className:"candor-col-height",children:Object(g.jsx)(m,{postsList:n})}),Object(g.jsx)(u.a,{xs:12,md:4,className:"text-center d-flex align-items-end candor-col-height pb-5",children:Object(g.jsx)(v,{})})]})})})};var A=function(){return Object(g.jsx)(o.a,{children:Object(g.jsx)("div",{className:"App",children:Object(g.jsx)(i.c,{children:Object(g.jsx)(i.a,{path:"/candor-web/dialogue/:id",component:y})})})})},D=a(32),E=a(25),M=a.n(E),S=a(30),I=a(31),k=a(50).a.initializeApp({apiKey:"AIzaSyAv7eFr7Liibpzuh0ySf12-AOg7W0USIWM",authDomain:"candor-stage.firebaseapp.com",databaseURL:"https://candor-stage.firebaseio.com",projectId:"candor-stage",storageBucket:"candor-stage.appspot.com",messagingSenderId:"334034284537",appId:"1:334034284537:web:4a15feb23ae2e522475728",measurementId:"G-MT76E9PSTY"}).firestore(),P=O.Errors;var G=function(e){var t=Object(n.useState)(null),a=Object(I.a)(t,2),c=a[0],r=a[1],s=function(){var t=Object(S.a)(M.a.mark((function t(){return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.collection("dialogues").doc(e).get().then((function(e){var t=e.data();r(t)})).catch((function(e){console.error(P.documentFetchError,e)}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){s()}),[]),c},_=N.dialogueActions,L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _.get:var a=G(t.id);return void 0===a?e:a;default:return e}},T=O.Errors;var C=function(e){var t=Object(n.useState)([]),a=Object(I.a)(t,2),c=a[0],r=a[1],s=function(){var t=Object(S.a)(M.a.mark((function t(){return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.collection("posts").where("dialogueId","==",e).get().then((function(e){var t=e.docs.map((function(e){return e.data()}));r(t)})).catch((function(e){console.error(T.documentFetchError,e)}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){s()}),[]),c},J=N.postActions,B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J.getAll:var a=C(t.id);return a;default:return e}},F=Object(D.a)({dialogueMetaData:L,posts:B}),z=Object(D.b)(F);s.a.render(Object(g.jsx)(c.a.StrictMode,{children:Object(g.jsx)(w.a,{store:z,children:Object(g.jsx)(A,{})})}),document.getElementById("root"))}},[[91,1,2]]]);
//# sourceMappingURL=main.e4f13d8f.chunk.js.map